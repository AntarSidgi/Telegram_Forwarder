# Telegram Forwarder

بوت تلغرام بسيط يعمل على بايثون3 لإعادة توجيه الرسائل تلقائيًا من دردشة إلى أخرى.


## لتشغيل البوت

بمجرد الانتهاء من إعداد قاعدة البيانات الخاصة بك واكتمال التكوين الخاص بك (انظر أدناه) ، ما عليك سوى تنفيذ الأمر:

`python3 -m forwarder`

أو يمكنك استضافة وتشغيل هذا البوت [Heroku](https://github.com/antarsidgi/Telegram_Forwarder#Host-on-Heroku)


### للتشغيل البوت على استضافة هيروكو

<p><a href="https://heroku.com/deploy?template=https://github.com/antarsidgi/Telegram_Forwarder/tree/master"><img src="https://www.herokucdn.com/deploy/button.svg" alt="Deploy to Heroku"/></a></p>


## اعدادات البوت (الرجاء قرائتها جيداً قبل تجربة البوت!):
يرجى التأكد من استخدام أحدث إصدار من بايثون. (*موصى به*)


### التهيئة

هناك طريقتان محتملتان لتهيئة البوت الخاص بك: ملف `config.py` أو متغيرات ENV.

الإصدار المفضل هو استخدام ملف `config.py` ، حيث يسهل رؤية جميع إعداداتك مجمعة معًا.
يجب وضع هذا الملف في مجلد `forwarder` ، جنبًا إلى جنب مع ملف `__main __. py`.
هذا هو المكان الذي سيتم تحميل كود البوت الخاص بك منه ، ومعظم إعداداتك الأخرى.
يوصى باستيراد `sample_config` وتوسيع فئة` Config` ، حيث سيضمن ذلك احتواء التهيئة الخاص بك على جميع
تم تعيين الإعدادات الافتراضية في `sample_config` ، مما يسهل عملية الترقية.

مثال على ملف `config.py` يمكن أن يكون:
```
from forwarder.sample_config import Config


class Development(Config):
    API_KEY = "1234567890:Abcdef1234567890GHIJ"  # Your bot API key
    OWNER_ID = 1234567890  # Your user id

    # Make sure to include the '-' sign in group and channel ids.
    FROM_CHATS = [-1001234567890]  # List of chat id's to forward messages from.
    TO_CHATS = [-1001234567890, -1234567890]  # List of chat id's to forward messages to.
    
    WORKERS = 4
```

إذا لم يكن لديك ملف `config.py` (مثال على Heroku) ، فمن الممكن أيضًا استخدام متغيرات البيئة.يتم دعم متغيرات البيئة التالية:

 - `ENV`: تعيين هذا على `ANYTHING` سيمكن متغيرات البيئة.

 - `API_KEY`: التوكن الخاص بك.
 - `OWNER_ID`: الايدي الخاص بك.

 - `FROM_CHATS`: **Space separated** قائمة معرفات الدردشة لإعادة توجيه الرسائل منها. لا تنسى تضمين علامة
ناقص (-) تسجيل الدخول إلى معرفات الدردشة الخاصة بالمجموعات والقنوات. يمكنك إضافة معرفات المستخدمين أيضًا لإعادة توجيه ملفات
رسائل مع البوت.
 - `TO_CHATS`: **Space separated** قائمة معرفات الدردشة لإعادة توجيه الرسائل إليها. لا تنسى تضمين علامة
ناقص (-) تسجيل الدخول إلى معرفات الدردشة الخاصة بالمجموعات والقنوات. يمكنك أيضًا إضافة معرفات المستخدمين لإعادة توجيه الرسائل إليهم.

 - `WEBHOOK`: سيؤدي تعيين هذا على `ANYTHING` إلى تمكين الويبهوك عندما تكون في رسائل وضع env.
 - `URL`: عنوان URL الذي يجب أن يتصل به الويبهوك  (مطلوب فقط في وضع الويبهوك).
 - `CERT_PATH`: المسار إلى شهادة الويبهوك.
 - `PORT`: منفذ لاستخدامه للويبهوك الخاصة بك.

 - `WORKERS`: عدد الخيوط المراد استخدامها. 4 هو المبلغ الموصى به (والافتراضي) ، ولكن تجربتك قد تختلف.
 **ملحوظة:** قد تحتاج إلى استخدام المزيد من الWORKERS إذا كان عدد الرسائل التي سيتم إعادة توجيهها أكبر.
 لكن الشعور بالجنون مع المزيد من الخيوط لن يؤدي بالضرورة إلى تسريع الروبوت الخاص بك بسبب طريقة عمل مكالمات بايثون غير المتزامنة.


### تبعيات بايثون

قم بتثبيت تبعيات بايثون الضرورية بالانتقال إلى مسار المشروع وتنفيذ:

`pip3 install -r requirements.txt`.

سيؤدي هذا إلى تثبيت جميع حزم بايثون الضرورية.


### الاعتمادات

* [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot/wiki/Transition-guide-to-Version-12.0) - python-telegram-bot